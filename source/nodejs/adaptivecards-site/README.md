# About the site

The adaptivecards.io site is entirely static-generated HTML using NodeJS. It uses other files in our repo to help build out the site, like our JSON-schema and Sample payloads.

* **Documentation** is hosted on the [MicrosoftDocs/AdaptiveCards](https://github.com/MicrosoftDocs/AdaptiveCards) repo. The Card Schema and Host Config schema pages can be generated by the tool in this site
* **Schema Explorer** is built from the [JSON-Schama file](../../../schemas/adaptive-cards.json). Any schema explorer or docs updates must be made here to keep the schema and site in sync.
* **Samples** page is built from the [Samples/v1.0/Scenarios folder](../../../samples/v1.0/scenarios). Any payloads added here will automatically get added to the Samples page of the site.
* **Visualizer** is built from the `../adaptivecards-visualizer` project and copies the scripts to the site

# Source files for generating the site

* `public` - output location from `hexo generate` - this is the wwwroot of the site
* `source` - any markdown blog posts or pages, these get rendered as HTML on generate
* `themes/adaptivecards` - the source code for generating the site. It uses nodejs
    * `source` - any raw content added to the genated output (CSS, JS, images, etc)
    * `scripts` - these scripts run on the dev box and control the generated output.
        * `generator-*.js` - control how each page is generated. For example: `generator-samples.js` builds the samples.html page
    * `layout` - the HTML templates for the pages and partials
    * `_config.yml` - config for the site, like the top-level menu, etc

* **UHF Header Menu** - Microsoft properties have a standard header/footer that is provided by the UHF API.
* [Get UHF HTML + CSS + Script here](https://uhf.microsoft.com/en-US/shell/xml/UHFPortal?headerId=MSDocsHeader-AdaptiveCards&footerid=UHFPortalFooter)
    * `head.ejs` contains the CSS includes
    * `footer.ejs` contains the script includes
    * `header.ejs` has a manual copy-paste of the HTML


# Install and Build

## Install Hexo

[Hexo](https://hexo.io/)

```console
npm install hexo-cli -g
```

## Build

```console
npm install
```

## Link the local adaptivecards-visualizer package

Remove the `adaptivecards-visualizer` dependency from `package.json` (this dependency is only used for Microsoft's internal Continuous Integration process), then

```console
cd adaptivecards-visualizer
npm link
cd ../adaptivecards-site
npm link adaptivecards-visualizer
```

## Generate

```console
hexo generate
```

## Run

```console
hexo server
```